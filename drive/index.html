<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Dokumentasi | BEM FST & FIK</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- DataTables CSS & JS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.3/css/dataTables.dataTables.min.css" />
    <script src="https://cdn.datatables.net/2.0.3/js/dataTables.min.js"></script>

    <link rel="stylesheet" href="/assets/css/main.css" />
  </head>

  <body class="bg-gray-50">
    <div id="navbar"></div>

    <main class="flex-grow max-w-7xl mx-auto px-6 pb-16">
      <nav aria-label="breadcrumb" class="bg-white rounded-xl shadow-lg max-w-3xl mx-auto mt-6">
        <ol class="flex items-center gap-1 text-gray-700 font-semibold text-lg rounded-xl px-6 py-4">
          <a href="/"><li>Beranda</li></a>
          <li class="text-[#5A007A]">›</li>
          <li><span class="text-[#C26CFF]"> Dokumentasi </span></li>
        </ol>
      </nav>

      <section class="max-w-4xl mt-10 mx-auto">
        <div class="flex justify-start">
          <div class="w-[300px] text-center py-1 rounded-r-md text-white font-bold text-lg" style="background: linear-gradient(to right, #c26cff00, #d05af4, #da5af4, #c26cff00)">Dokumentasi</div>
        </div>

        <div class="bg-white shadow-lg rounded-xl p-6 mt-6">
          <!-- SCROLL WRAPPER -->
          <div class="overflow-x-auto">
            <table id="docTable" class="display stripe hover w-full min-w-[600px]"></table>
          </div>
        </div>
      </section>
    </main>

    <!-- Tombol Layanan 110 -->
    <div class="fixed bottom-6 left-6 z-50">
      <button id="layanan110Btn" class="bg-[#900BB7] hover:bg-[#6A008C] text-white font-bold py-3 px-5 rounded-full shadow-lg transition-all flex items-center gap-2 group tilt-btn btn-float btn-glow">
        <!-- Ikon megaphone dengan spin + bounce -->
        <span class="inline-flex items-center justify-center w-7 h-7 rounded-full bg-white/20 transform transition-transform duration-700 group-hover:rotate-[360deg] icon-bounce">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-4 w-4">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 8.25V5.25L20.25 3V21L15 18.75V15.75M15 8.25C15 10.3211 13.3211 12 11.25 12H8.25V12V12C6.17893 12 4.5 10.3211 4.5 8.25V8.25V8.25C4.5 6.17893 6.17893 4.5 8.25 4.5H11.25C13.3211 4.5 15 6.17893 15 8.25ZM8.25 12V19.5"
            />
          </svg>
        </span>

        Aspirasi
      </button>
    </div>

    <!-- Modal -->
    <div id="layanan110Modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
        <div class="p-6">
          <h2 class="text-xl font-bold mb-4 text-[#900BB7]">Layanan Aspirasi</h2>

          <p class="mb-4 text-gray-700">
            Fasilitas ini disediakan sebagai sarana bagi seluruh mahasiswa untuk menyampaikan aspirasi, kritik, saran, atau laporan terkait berbagai isu dan pelayanan di lingkungan kampus. Gunakanlah saluran ini untuk membantu pihak kampus
            meningkatkan kualitas pelayanan dan menyelesaikan keluh kesah Anda.
          </p>

          <div class="flex justify-between">
            <a href="/aspirasi/" class="bg-[#900BB7] hover:bg-[#6A008C] text-white py-2 px-4 rounded font-semibold"> Kirim Aspirasi </a>

            <button id="closeModalBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded">Tutup</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const layanan110Btn = document.getElementById("layanan110Btn");
        const layanan110Modal = document.getElementById("layanan110Modal");
        const closeModalBtn = document.getElementById("closeModalBtn");

        // Buka modal
        layanan110Btn.addEventListener("click", () => {
          layanan110Modal.classList.remove("hidden");
        });

        // Tutup modal
        closeModalBtn.addEventListener("click", () => {
          layanan110Modal.classList.add("hidden");
        });

        // Tutup saat klik di luar modal
        layanan110Modal.addEventListener("click", (e) => {
          if (e.target === layanan110Modal) {
            layanan110Modal.classList.add("hidden");
          }
        });
      });
    </script>

    <script>
      $(document).ready(function () {
        $("#docTable").DataTable({
          ajax: {
            url: "/drive.json", // ← tinggal ganti lokasi JSON
            dataSrc: "",
          },
          responsive: false,
          scrollX: true,
          columns: [
            {
              title: "Tanggal",
              data: "tanggal",
              render: function (data) {
                const d = new Date(data);
                return d.toLocaleDateString("id-ID", {
                  day: "2-digit",
                  month: "long",
                  year: "numeric",
                });
              },
            },
            { title: "Nama Acara", data: "acara" },
            {
              title: "Link Drive",
              data: "link",
              render: function (data) {
                return `
            <a href="${data}" target="_blank"
              class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg">
              Buka Drive
            </a>
          `;
              },
            },
          ],
        });
      });
    </script>

    <div id="footer"></div>
    <script src="/assets/js/footernavbar.js"></script>
  </body>
</html>
